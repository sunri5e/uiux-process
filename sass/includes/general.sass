@import url(https://fonts.googleapis.com/css?family=Roboto:300,400,700|Montserrat:700)

/* ----------------------------------- */
/* ------- Variables and mixins ------ */
/* ----------------------------------- */

$color-light: #fff
$color-dark: #000
$color-yellow: #e8ab2b
$font-main: 'Roboto', sans-serif
$font-highlight: 'Montserrat', sans-serif
$transition-time-general: .5s


*
  box-sizing: border-box
  margin: 0

html,
body
  height: 100%

body
  font-family: $font-main
  font-size: 18px
  font-weight: 400
  line-height: 30px
  color: $color-light
  background: #e79e11


ul
  margin: 0
  padding: 0
  list-style-type: none
  font-size: 14px
  line-height: 20px
  & > li
    padding-left: 20px
    &:before
      content: '-'
      display: inline-block
      text-indent: -20px


.container
  max-width: 1400px
  height: 100%
  position: relative
  margin: 0 auto

.row
  box-sizing: border-box
  display: -webkit-flex
  display: -ms-flexbox
  display: flex
  -webkit-flex: 0 1 auto
  -ms-flex: 0 1 auto
  flex: 0 1 auto
  -webkit-flex-direction: row
  -ms-flex-direction: row
  flex-direction: row
  -webkit-flex-wrap: wrap
  -ms-flex-wrap: wrap
  flex-wrap: wrap

.bottom-xs
  -webkit-align-items: flex-end
  -ms-flex-align: end
  align-items: flex-end
.middle-xs
  -webkit-align-items: center
  -ms-flex-align: center
  align-items: center

.pull-right
  float: right

$cols: 10
@while $cols > 0
  .col-#{$cols}0
    -webkit-flex-basis: 10% * ($cols)
    -ms-flex-preferred-size: 10% * ($cols)
    flex-basis: 10% * ($cols)
    max-width: 10% * ($cols)
  $cols: $cols - 1

.col-one-sixth
  -webkit-flex-basis: 16.667%
  -ms-flex-preferred-size: 16.667%
  flex-basis: 16.667%
  max-width: 16.667%

.align-center-vertical
  display: -webkit-box
  display: -webkit-flex
  display: -ms-flexbox
  display: flex
  -webkit-box-align: center
  -webkit-align-items: center
  -ms-flex-align: center
  align-items: center
  -webkit-justify-content: space-around
  -ms-flex-pack: distribute
  justify-content: space-around
  -webkit-flex-flow: column
  -ms-flex-flow: column
  flex-flow: column

nav
  position: absolute
  left: 0
  right: 0
  top: 0
  z-index: 3
  padding: 30px 50px 0
  .logo
    img, a
      transition: all .4s
      vertical-align: middle
    a
      margin-left: 30px
      font-size: 14px
      text-transform: uppercase
      text-decoration: none
      color: #fff
      padding-left: 20px
      border-left: 2px solid
      &:hover
        opacity: .7
  .ux-navigation
    list-style: none
    li
      text-transform: uppercase
      display: inline-block
      font-size: 18px
      &:before
        content: none
      & + li
        margin-left: 50px
      a
        transition: all .4s
        color: #fff
        text-decoration: none
        display: block
        opacity: 1
        &:hover
          opacity: .5
      &.active
        a
          color: rgba(#000,.7)
          position: relative
          opacity: 1
          &:after
            content: ''
            position: absolute
            left: 0
            right: 0
            bottom: -10px
            border-bottom: 3px solid rgba(#000,.3)

.text-center
  text-align: center

.scene-translator
  display: none

.scene-receiver
  position: fixed
  left: 50%
  top: 50%
  transition: transform $transition-time-general
  &.is-visible
    transform: translate(-50%, -50%)
  &.is-hidden
    transform: translate(50%, -50%)
.scene-text
  width: 540px
  position: absolute
  top: 50%
  transform: translate(0,-50%)
  transition: opacity $transition-time-general, margin $transition-time-general
  &.with-left-position
    left: 0
  &.with-right-position
    left: 50%
  &.is-open
    opacity: 1
    margin-left: 0
  &.is-hidden
    opacity: 0
    pointer-events: none
    margin-left: -40px
  &.is-hiding
    opacity: 0
    margin-left: 40px

.scene-gfx
  position: absolute
  top: 50%
  transform: translate(0,-50%)
  & > img
    display: inline-block
    margin: 0 15px
    transition: margin $transition-time-general, transform $transition-time-general .3s
  &.with-right-position
    right: 0

.scene-control
  display: inline-block
  text-decoration: none
  text-align: center
  cursor: pointer
  padding: 10px 15px
  min-width: 160px
  height: 50px
  background-color: #fff
  border-radius: 3px
  color: $color-light
  font-size: 18px
  font-weight: 700
  text-transform: uppercase
  color: rgba(#000,.7)
  transition: background-color .4s
  border: 0
  &:hover
    background-color: rgba(255,255,255,.7)
  &:active
    transform: translateY(2px)

  &.is-hidden
    display: none
  &.is-filled
    background-color: $color-yellow
    color: #fff
* + .scene-control
  margin-top: 50px

.section-title
  font-family: $font-highlight
  font-size: 32px
  font-weight: 700
  margin: 0
  line-height: 1.3
  & + * 
    margin-top: 30px

.section-subtitle
  font-family: $font-highlight
  font-size: 18px
  font-weight: 700
  margin: 0
  margin-top: 30px
  & + *
    margin-top: 15px

.hero
  position: fixed
  top: 0
  left: 0
  width: 100%
  height: 100%
  z-index: 3
  opacity: 1
  transition: all .5s
  &.is-hidden
    top: -100%
    opacity: 0
  h1,h3
    text-transform: uppercase
  h1
    font-size: 110px
    line-height: 110px
    font-family: $font-highlight
    margin-bottom: 100px
  h3
    font-size: 36px
    line-height: 36px
    font-weight: 300
    font-family: $font-main
    margin-bottom: 30px
  .hero-text
    height: 100vh
  .scene-control--holder
    position: absolute
    left: 50%
    bottom: 150px
    transform: translateX(-50%)

.blueprint
  position: fixed
  width: 100%
  height: 100%
  top: 0
  background: url('../img/bg-mesh.png'), #f5f5f5
  transition: left $transition-time-general
  color: rgba($color-dark, .7)
  overflow: hidden
  .will-show
    display: none
  &.is-hidden
    left: 100%
  &.is-open
    left: 0
  &.is-third
    left: 66%
    .scene-text.with-left-position
      display: none
    .scene-gfx
      right: auto
      .will-hide
        display: none
      .will-show
        display: inline-block
      & > img.is-selected
        margin-left: -100px
        margin-bottom: 100px


// Progress
.progress
  position: fixed
  z-index: 10
  bottom: 50px
  left: 50%
  transform: translate(-50%, 0px)
  width: 30%
  transition: all .4s
  text-align: center
  display: none
  .align-center-vertical
    position: relative
    height: 50px
  &.is-visible
    display: block
    animation: paginationAppear .5s
    button
      border-radius: 100%
      cursor: pointer
      right: 0
      padding: 0
      width: 6px
      height: 6px
      outline: none
      transition: all .4s
      background-color: rgba(#fff, .2)
      border: none
      pointer-events: none
      .scene-name
        position: absolute
        display: none
        font-family: $font-highlight
        font-size: 10px
        text-align: center
        color: #fff
        left: 50%
        top: 50%
        transform: translate(-50%,-50%)
        text-transform: uppercase
        transition: all .4s
        width: 100%
        small
          text-transform: lowercase
      &.was-active
        box-sizing: content-box
        width: 30px
        height: 30px
        right: -15px
        bottom: -15px
        pointer-events: auto
        &[data-scene="2"]
          transition-delay: 2s
        &[data-bar="3"]
          transition-delay: 3.5s
        &[data-bar="4"]
          transition-delay: 10.5s
        &[data-bar="5"], &[data-bar="6"]
          transition-delay: 4.22s
        .scene-name
          display: block
          opacity: 0
        &:hover
          .scene-name
            opacity: 1
            transition-delay: 0s

.scene-playing-1 .progress button[data-scene="scene1"],
.scene-playing-2 .progress button[data-scene="scene2"],
.scene-playing-3 .progress button[data-scene="scene3"],
.scene-playing-4 .progress button[data-scene="scene4"],
.scene-playing-5 .progress button[data-scene="scene4"],
.scene-playing-6 .progress button[data-scene="scene6"],
.scene-playing-7 .progress button[data-scene="scene7"]
  width: 50px
  height: 50px
  right: -25px
  bottom: -25px
  .scene-name
    display: block
    opacity: 1


.scene-playing-3
  .logo
    img
      filter: invert(70%)
      transition-delay: 3.5s
    a
      color: rgba(#000,.7)
      transition-delay: 3.5s
  .ux-navigation
    li
      a
        transition-delay: 3s
  .progress button
    background-color: rgba($color-yellow, .7)
    .scene-name
      color: rgba(#000,.7)

.scene-playing-3,
.scene-playing-4
  .ux-navigation
    li
      a
        color: rgba(#000,.7)


// Animations
@keyframes paginationAppear
  0%
    opacity: 0
    transform: translate(-50%, 50px)
  100%
    opacity: 1
    transform: translate(-50%, 0px)
